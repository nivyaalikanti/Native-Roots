<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace</title>
    <link rel="stylesheet" href="marketplace.css">
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <div class="logo">Native Roots</div>
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="workshops.html">Workshops</a></li>
            <li><a href="cultural-tours.html">Cultural Tours</a></li>
            <li><a href="games.html">Games</a></li>
            <li><a href="traditionforum.html">Tradition Forum</a></li>
            <li><a href="marketplace.html">Store</a></li>
            <li><a href="login.html" id="loginbtn">Login</a></li>
            <li><a href="signup.html" id="signupbtn">Signup</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section id="hero">
        <h1>Welcome to the Marketplace</h1>
        <p>Explore, Buy, and Sell Authentic Products!</p>
    </section>
    <div class="sell">
        <button id="sellbtn"><a href="sell.html">Sell Products</a></button>
    </div>
    
    <!-- Marketplace Section -->
    <section id="marketplace">
        <div class="market-container">
            <!-- Buy Section -->
            <div class="market-section" id="buy-section">
                <h2>Browse Products</h2>
                <input type="text" placeholder="Search for products..." id="search-bar">
                <select id="filter-options">
                    <option value="latest">Sort by Latest</option>
                    <option value="low-to-high">Price: Low to High</option>
                    <option value="high-to-low">Price: High to Low</option>
                </select>
                <div class="product-list" id="product-list">
                    <!-- Example Products -->
                    <div class="product-card" data-date="2024-09-10" data-price="35">
                        <img src="https://i.pinimg.com/originals/1c/c3/8a/1cc38a28340c020c70af2c5db7bb8766.jpg" alt="Product 1">
                        <div class="product-info">
                            <h3>Handcrafted Pottery</h3>
                            <p id="price">$35.00</p>
                            <p id="desc">A beautifully handcrafted clay pottery piece, perfect for adding a traditional touch to your home decor.</p>
                        </div>
                        <button class="buy-btn">Buy Now</button>
                    </div>
                    <div class="product-card" data-date="2024-09-05" data-price="25">
                        <img src="images/product2.jpg" alt="Product 2">
                        <div class="product-info">
                            <h3>Wooden Sculpture</h3>
                            <p>$25.00</p>
                            <p>This intricately carved wooden sculpture represents the fine craftsmanship of rural artisans.</p>
                        </div>
                        <button class="buy-btn">Buy Now</button>
                    </div>
                    <div class="product-card" data-date="2024-09-08" data-price="50">
                        <img src="images/product3.jpg" alt="Product 3">
                        <div class="product-info">
                            <h3>Antique Vase</h3>
                            <p>$50.00</p>
                            <p>This antique vase is an exquisite piece of history, adding elegance to any space with its vintage charm.</p>
                        </div>
                        <button class="buy-btn">Buy Now</button>
                    </div>
                    <div class="product-card" data-date="2024-09-10" data-price="35">
                        <img src="images/product1.jpg" alt="Product 1">
                        <div class="product-info">
                            <h3>Handwoven Basket</h3>
                            <p>$35.00</p>
                            <p>This durable handwoven basket is perfect for storage and brings a rustic aesthetic to your home.</p>
                        </div>
                        <button class="buy-btn">Buy Now</button>
                    </div>
                    <!-- Add more products dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Indian Culture Project | Marketplace</p>
    </footer>
    
    <!-- JavaScript for Sorting -->
    <script>
        const products = [
            { name: "Handwoven Basket", price: 35.00, img: "https://madeheart.com/media/productphoto/187/50454732/074_DSC_0004.jpg", description: "This durable handwoven basket is perfect for storage and brings a rustic aesthetic to your home."},
            { name: "Blue Pottery", price: 50.00, img: "https://i.pinimg.com/originals/7a/2f/c0/7a2fc0ef123d78ca940b2992db4efa4d.jpg", description: "Traditional blue pottery with intricate designs, ideal for enhancing your living space." },
            { name: "Phulkari Embroidery", price: 75.00, img: "https://craftmagic.in/wp-content/uploads/2019/10/phulkari-chanderi-dupatta-sto202c.jpg", description: "An elegant Phulkari dupatta with vibrant colors, showcasing traditional Indian embroidery." },
            { name: "Channapatna Toys", price: 20.00, img: "http://4.bp.blogspot.com/-6xS3tikkoS8/VZf3OLGYshI/AAAAAAAAFBY/0E7WWTRmteQ/s1600/2.JPG", description: "Colorful, eco-friendly wooden toys crafted by artisans from the town of Channapatna." }
        ];

        function displayProducts(filteredProducts = products) {
            const productList = document.querySelector('.product-list');
            productList.innerHTML = ''; // Clear the list first

            filteredProducts.forEach(product => {
                const productCard = `
                    <div class="product-card">
                        <img src="${product.img}" alt="${product.name}">
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <p>$${product.price.toFixed(2)}</p>
                            <p>${product.description}</p>
                        </div>
                        <button class="buy-btn">Buy Now</button>
                    </div>
                `;
                productList.innerHTML += productCard;
            });
        }

        // Initial product display
        displayProducts();

        // Search Functionality
        const searchBar = document.getElementById('search-bar');
        searchBar.addEventListener('input', function() {
            const searchTerm = searchBar.value.toLowerCase();
            const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm));
            displayProducts(filteredProducts);
        });

        // Sorting Functionality
        const filterOptions = document.getElementById('filter-options');
        filterOptions.addEventListener('change', function() {
            const selectedOption = filterOptions.value;
            let sortedProducts = [...products];

            if (selectedOption === 'low-to-high') {
                sortedProducts.sort((a, b) => a.price - b.price);
            } else if (selectedOption === 'high-to-low') {
                sortedProducts.sort((a, b) => b.price - a.price);
            } else {
                sortedProducts = products; // Sort by latest (default)
            }

            displayProducts(sortedProducts);
        });

        // JavaScript for Sorting
        document.getElementById('filter-options').addEventListener('change', function() {
            const productList = document.getElementById('product-list');
            const products = Array.from(productList.getElementsByClassName('product-card'));
            const sortValue = this.value;

            if (sortValue === 'low-to-high') {
                products.sort((a, b) => parseFloat(a.getAttribute('data-price')) - parseFloat(b.getAttribute('data-price')));
            } else if (sortValue === 'high-to-low') {
                products.sort((a, b) => parseFloat(b.getAttribute('data-price')) - parseFloat(a.getAttribute('data-price')));
            } else if (sortValue === 'latest') {
                products.sort((a, b) => new Date(b.getAttribute('data-date')) - new Date(a.getAttribute('data-date')));
            }

            productList.innerHTML = '';

            products.forEach(product => productList.appendChild(product));
        });
    </script>
</body>
</html>
